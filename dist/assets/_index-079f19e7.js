import{R as y,b as w,j as c}from"./index-177b6ae3.js";import{a as b,L as j}from"./tour-bed748ce.js";import{a as H}from"./room-23228ac9.js";import{P as f}from"./PannellumVideo-3f6e5b42.js";const L="";function C(){var m;const[n,r]=y.useState(null),{idTour:s}=w(),{data:e,status:t}=b({id:String(s)});y.useEffect(()=>{e!=null&&e.data.length&&r(e==null?void 0:e.data[0].id)},[e==null?void 0:e.data]);const i=y.useMemo(()=>{const a=e==null?void 0:e.data[0],d=e==null?void 0:e.data.find(l=>l.id===n);return n?d:a},[n,e==null?void 0:e.data]),{data:u}=H({id:String(n)}),x=({room_link_id:a})=>()=>{if(a===null){alert("Tidak ada link room yang di tuju");return}r(a)},g=(a,d)=>{a.classList.add("custom-tooltip");const l=document.createElement("span");l.innerHTML=d.label,a.appendChild(l),l.style.width=l.scrollWidth-20+"px",l.style.cursor="default",l.style.marginLeft=-(l.scrollWidth-a.offsetWidth)/2+"px",l.style.marginTop=-l.scrollHeight-12+"px"};return c.jsx(j,{children:c.jsx(f,{title:i==null?void 0:i.name,width:"100%",height:"93vh",image:t==="success"?L+(i==null?void 0:i.image_url):"",autoLoad:!0,hfov:100,haov:360,vaov:180,pitch:(i==null?void 0:i.pitch)??0,yaw:(i==null?void 0:i.yaw)??0,children:(m=u==null?void 0:u.data)==null?void 0:m.map((a,d)=>a.type==="info"?c.jsx(f.Hotspot,{type:"info",pitch:a==null?void 0:a.pitch,yaw:a==null?void 0:a.yaw,text:a.text},d):c.jsx(f.Hotspot,{type:"custom",pitch:a==null?void 0:a.pitch,yaw:a==null?void 0:a.yaw,tooltip:(a==null?void 0:a.type)==="label"&&g,tooltipArg:{label:a==null?void 0:a.text},cssClass:(a==null?void 0:a.type)==="label"&&"label-custom-style",handleClick:(a==null?void 0:a.type)!=="label"&&x({room_link_id:String(a.room_link_id)})},d))})})}export{C as default};
